!function(e,i){for(var t,n=function(){},o=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],a=o.length,r=e.console=e.console||{};a--;)r[t=o[a]]||(r[t]=n);var s=e.PH=e.PH||{};s.showToast=function(e){var i=$.extend({},{css:"light",msg:"Default Message",header:"Attention",delay:5e3,click:null,hide:null},e);"error"===i.css&&(i.css="danger");var t=$("<div></div>",{class:"toast toast-"+i.css,role:"alert","aria-live":"assertive","aria-atomic":"true","data-delay":i.delay}),n=$("<div></div>",{class:"toast-header"}).append($("<strong></strong>",{class:"mr-auto",text:i.header})).append($("<button />",{type:"button",class:"close ml-2 mb-1","data-dismiss":"toast","aria-label":"Close"}).append($("<span></span>",{html:"&times;","aria-hidden":"true"}))),o=$("<div></div>",{class:"toast-body",html:i.msg});i.click&&(o.on("click",i.click),o.prop("style","cursor: pointer")),i.hide&&t.on("hidden.bs.toast",i.hide),t.append(n).append(o).prependTo("#bs-toast-container").toast("show")},s.showAlert=function(e){var i=$.extend({},{css:"",msg:"Default Message",header:"",selector:"#main-row"},e);"error"===i.css&&(i.css="danger");var t=$("<div></div>",{class:"fade show alert alert-dismissible alert-"+i.css}).append($("<button />",{html:"&times;",type:"button",class:"close","data-dismiss":"alert"}));i.header&&i.header.length>0&&t.append($("<h4 />",{text:i.header,class:"alert-header"})),t.append($("<p />",{html:i.msg})).insertBefore(i.selector)}}(window),$.fn.serializeObject=function(){var e={},i=this.serializeArray();return $.each(i,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},toastr.options={closeButton:!0,positionClass:"toast-bottom-right",hideDuration:300,showMethod:"slideDown",hideMethod:"slideUp",timeOut:7e3},$(document).ajaxError(function(e,i,t,n){var o="Error requesting page: "+t.url;console.log(i),n&&(o+="<br />Error: "+n),o+="<br />Message: "+i.responseText,PH.formUtils.showAlert({css:"alert-danger",msg:o,header:"Error"})}),function(e,i){var t=e.PH=e.PH||{};t.formUtils={},t.formUtils.registerHelpers=function(){$(".date-input").datepicker()},t.formUtils.changeIcon=function(e,i){e&&e.removeClass().addClass("glyphicons "+i)},t.formUtils.enableCollapseToggle=function(e){e||(e=".listings"),$(e).on("hide",".collapse",function(){$(this).closest(".media").find(".collapse-toggle .glyphicons").removeClass("glyphicons-caret-up").addClass("glyphicons-caret-down"),$(this).closest(".media").find(".collapse-toggle").prop("title","Expand")}),$(e).on("show",".collapse",function(){$(this).closest(".media").addClass("viewed"),$(this).closest(".media").find(".collapse-toggle .glyphicons").removeClass("glyphicons-caret-down").addClass("glyphicons-caret-up"),$(this).closest(".media").find(".collapse-toggle").prop("title","Collapse")})},t.formUtils.enableBootstrapCollapseToggle=function(e,i,t,n){$(e).on("hide.bs.collapse",".collapse",function(){$(this).closest(i).find(".collapse-toggle .glyphicons").removeClass(t).addClass(n)}),$(e).on("show.bs.collapse",".collapse",function(){$(this).closest(i).find(".collapse-toggle .glyphicons").removeClass(n).addClass(t)})},t.formUtils.enableConnectedSelects=function(){$("form").on("click",".connected-select",function(e){e.preventDefault();var i=$(this).data("source"),t=$(this).data("target");$(i+" option:selected").remove().appendTo(t),$(t+" option:selected").removeAttr("selected")})},t.formUtils.getCheckedCheckboxes=function(e){return $(e).find(":checkbox").filter(":checked")},t.formUtils.registerCheckboxLimiter=function(e,i,t){var n=$(e).find("input:checkbox");n.on("change",function(){n.filter(":checked").length>=i?n.not(":checked").prop("disabled",!0):n.prop("disabled",!1)}),t&&n.trigger("change")},t.formUtils.removeCheckboxLimiter=function(e){$(e).find("input:checkbox").prop("disabled",!1).off("change")},t.formUtils.toggleCheckboxState=function(e,i,t){$(i).on("change",function(i){var n=$(this).is(":checked");t?$(e).prop({disabled:n}):$(e).prop({disabled:!n})})},t.formUtils.isValidUrl=function(e){var i=$(e).val().trim(),t=/^http/.test(i);return!(i.length>0&&!t)},t.formUtils.getLoadingIndicator=function(){return $("<span />",{class:"form-text",text:"Loading..."}).addClass("loading")},t.formUtils.insertLoadingIndicator=function(e){return t.formUtils.getLoadingIndicator().insertAfter("#"+e)},t.formUtils.parseBool=function(e){return e?"true"==e.toString().toLowerCase():e},t.formUtils.formatDate=function(e){e||(e=new Date);var i=e.getMonth(),t=e.getDate(),n=e.getFullYear(),o=e.getHours(),a="AM";return o>11&&(a="PM",o-=12),i+"/"+t+"/"+n+" "+(o+=1)+":"+e.getMinutes()+":"+e.getSeconds()+" "+a},t.formUtils.showAlert=function(e){var i=$.extend({},{css:"",msg:"Default Message",header:"",selector:"#main-row"},e),t=$("<div></div>",{class:"fade show alert alert-dismissible "+i.css}).append($("<button />",{html:"&times;",type:"button",class:"close","data-dismiss":"alert"}));i.header&&i.header.length>0&&t.append($("<h4 />",{text:i.header,class:"alert-header"})),t.append($("<p />",{html:i.msg})).insertBefore(i.selector)},t.formUtils.showToast=function(e){var i=$.extend({},{css:"light",msg:"Default Message",header:"Attention",delay:1e4},e),t=$("<div></div>",{class:"toast toast-"+i.css,role:"alert","aria-live":"assertive","aria-atomic":"true","data-delay":i.delay}),n=$("<div></div>",{class:"toast-header"}).append($("<strong></strong>",{class:"mr-auto",text:i.header})).append($("<button />",{type:"button",class:"close ml-2 mb-1","data-dismiss":"toast","aria-label":"Close"}).append($("<span></span>",{html:"&times;","aria-hidden":"true"}))),o=$("<div></div>",{class:"toast-body",html:i.msg});t.append(n).append(o).prependTo("#bs-toast-container").toast("show")},t.formUtils.bindLogoModalHandler=function(e,i){$("#previewModal").on("show.bs.modal",function(){var t="/admin/logos/preview?type="+e+"&filename="+i;$("#previewModal .modal-body").load(t+" #preview")})},t.formUtils.showPreviewModal=function(e,i){$(".preview").on("click",function(t){t.preventDefault();var n="/admin/logos/preview?type="+e+"&filename="+i;$("#previewModal .modal-body").load(n+" #preview")})},t.formUtils.sortFixHelper=function(e,i){return i.children().each(function(){$(this).width($(this).width())}),i},t.formUtils.generateSlugFromString=function(e){var i=$.trim(e.toLowerCase());return i=(i=i.replace(/[^a-z0-9\s-]/g,"")).replace(/\s/g," "),"-"===(i=(i=$.trim(i.replace(/\s/g,"-"))).replace(/\-+/g,"-")).substring(0)&&(i=i.substring(1)),"-"===i.substring(i.length-1)&&(i=i.substring(0,i.length-1)),i},t.formUtils.isValidExpireDate=function(e,i){var t=!1;if("[object Date]"===Object.prototype.toString.call(e)){var n=new Date;i&&n.setMonth(n.getMonth()+11),e>n&&(t=!0)}return t},t.formUtils.bindExpireDateValidator=function(e){formSelector=e||"frmPurchase",$("#"+formSelector).on("submit",function(e){var i=$("#ExpYear").val(),n=$("#ExpMonth").val(),o=$("<span />",{class:"field-validation-error"}),a=$("<span />",{class:"error",for:"ExpYear"});if(isNaN(i)||isNaN(n))return a.text("You must select the credit card expiration month and year"),o.append(a).appendTo($("#ExpYear").closest(".controls")),!1;var r=new Date(i,n,0);return!!t.formUtils.isValidExpireDate(r,!1)||(a.text("Invalid expiration date. It must be in the future"),o.append(a).appendTo($("#ExpYear").closest(".controls")),!1)})},t.formUtils.logError=function(e){try{$.post("/api/log/error","="+e)}catch(e){console.error(e)}},t.formUtils.getHtmlEditorDefaults=function(){return{menubar:!1,plugins:["lists link anchor paste hr code contextmenu"],convert_urls:!1,toolbar:"undo redo | bold italic underline strikethrough | bullist numlist | hr link | code",contextmenu:"bold italic underline strikethrough | link",body_id:"mce-editor",content_css:"/content/dist/css/site.min.css?"+(new Date).getTime()}},t.formUtils.enableHtmlEditor=function(e,i,n){var o=t.formUtils.getHtmlEditorDefaults();n&&(o.plugins+=" image",o.toolbar=o.toolbar.replace("hr link","hr link image"));var a=$.extend({},o,i);a.selector=e,tinymce.init(a)},t.formUtils.getOptionLabel=function(e){return $("<option />",{text:e,value:""})},t.formUtils.emptySelect=function(e,i){return $(e).prop("disabled",!0).empty().append(t.formUtils.getOptionLabel(i))},t.formUtils.hasEmail=function(e){return/\S+@\S+\.\S+/.test(e)},t.formUtils.hasUrl=function(e){return new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?").test(e)}}(window),function(e,i){var t=e.PH=e.PH||{};t.tableUtils={},t.tableUtils.addEmptyRow=function(e,i){$(e).find("tbody").append('<tr class="empty-row"><td colspan="100%">'+i+"</td></tr>")},t.tableUtils.removeEmptyRow=function(e){$(e).find("tr.empty-row").remove()},t.tableUtils.toggleButtonIcon=function(e,i,t){$(e).find("."+i).removeClass(i).addClass(t)},t.tableUtils.numberTable=function(e,i){$(e).find("tbody tr").each(function(e){$(this).children("td:eq("+i+")").text(e+1)})},t.tableUtils.countBodyRows=function(e){return $(e).find("tbody tr").not(".empty-row").length},t.tableUtils.enableTableHeaderCheckboxToggle=function(){$("thead").on("click",":checkbox",function(){$(this).is(":checked")?$(this).parents("table").find("tbody :checkbox").prop("checked",!0):$(this).parents("table").find("tbody :checkbox").prop("checked",!1)})}}(window),function(e,i){var t=e.PH=e.PH||{};t.pageUtils={},t.pageUtils.getHeight=function(e){return $(e).height()},t.pageUtils.getHeightDifference=function(e,i){return $(e).height()-$(i).height()},t.pageUtils.enableSlowScroll=function(i,t){void 0===i&&(i=".slow-scroll"),void 0===t&&(t="fast");var n=0;$(i).on("click",function(i){i.preventDefault();var o=$(this).prop("href");if(o&&o.indexOf("#")>-1){var a=o.substring(o.indexOf("#"),o.length);a&&((n=$(a).offset().top-72||0)<0&&(n=0),$("html, body").animate({scrollTop:n},t,"swing",function(i){e.location.hash=a}))}else e.location.href=o})},t.pageUtils.enableSlowScrollToTop=function(e,i,t){void 0===e&&(e=".slow-scroll"),void 0===i&&(i="fast"),$(e).on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},i).promise().then(t)})},t.pageUtils.enableCollapse=function(e,i,n){if(n=n||200,t.pageUtils.getHeight(e)>i+50){var o=$(e);$("<a />",{href:"#",html:"&#151; Show More &#151;",class:"toggle-link",click:function(e){e.preventDefault(),e.stopPropagation();var i=this;o.toggleClass("collapsed",n,function(){$(i).html(o.hasClass("collapsed")?"&#151; Show More &#151;":"&#151; Show Less &#151;")})}}).appendTo(o),o.addClass("collapsed")}},t.pageUtils.enableMainMenuHover=function(){document.body.offsetWidth>990&&$(document.body).addClass("hover-menu"),$(e).on("resize",function(){document.body.offsetWidth<=990?$(document.body).removeClass("hover-menu"):$(document.body).addClass("hover-menu")}),$("#site-nav-collapse .nav-item, #login-info").on("mouseenter",function(){$(document.body).hasClass("hover-menu")&&$(this).find(".dropdown-menu").addClass("show")}),$("#site-nav-collapse .nav-item, #login-info").on("mouseleave",function(){$(document.body).hasClass("hover-menu")&&$(this).find(".dropdown-menu").removeClass("show")})}}(window),function(e,i){var t=e.PH=e.PH||{};function n(e,i,n,o,a,r){if(n){var s=Math.floor(e/300);if(s>0){var c=t.adService.extraBanners[n].slice(0,s);if(o||a||r)for(var l=0,d=c.length;l<d;l++)c[l].page!=t.adService.bannerPages.RunOfSite&&(o&&(c[l].sectionId=o),a&&(c[l].categoryId=a),r&&(c[l].stateId=r));t.adService.getDynamicBanners(c,i)}}}t.adService={},t.adService.getMicrosites=function(){return $.getJSON("/api/microsites/get",function(e){if(e.length>0){var i=[];i.push(t.formUtils.getOptionLabel("-- Select Microsites --")),$.each(e,function(e,t){i.push($("<option />",{text:t.name,value:t.id}))}),$("#SectionID").empty().append(i).prop("disabled",!1)}else t.formUtils.emptySelect("#SectionID","No Sites Found!")})},t.adService.getMicrositeCategories=function(){return $.getJSON("/api/microsites/categories",function(e){if(e.length>0){var i=[];i.push(t.formUtils.getOptionLabel("-- Select Area --")),$.each(e,function(e,t){i.push($("<option />",{text:t.name,value:t.id}))}),$("#CategoryID").empty().append(i).prop("disabled",!1)}else t.formUtils.emptySelect("#CategoryID","No Areas Found!")})},t.adService.bannerPositions={Leaderboard:1,MediumRectangle:3,HalfPage:11,MediumRectangleTwo:12,MarketingPromo:14},t.adService.bannerPages={Blog:"Blog",RunOfSite:"RunOfSite",Home:"Home",Jobs:"Jobs",Events:"Events",Videos:"Videos",Classifieds:"Classifieds",RequestEngine:"RequestEngine",Directory:"Directory",NewsStand:"NewsStand",Search:"Search",Special:"Special",NABHUB:"Microsites",IBCHUB:"Outdated - Do Not Use"},t.adService.countViews=function(){var e=[],i=$(".banner-id").map(function(e,i){return $(this).val()});$(i).each(function(i,t){-1==e.indexOf(t)&&e.push(t)}),e.length>0&&$.ajax({url:"/api/banners/viewed",contentType:"application/json",type:"POST",cache:!1,data:JSON.stringify(e)})},t.adService.loadBanner=function(e){return $.ajax({url:"/ads/getbanner",contentType:"application/json",type:"POST",cache:!1,data:JSON.stringify(e)})},t.adService.loadStaticBanner=function(e){return $.ajax({url:"/ads/getstaticbanner",contentType:"application/json",type:"POST",cache:!1,data:JSON.stringify(e)})},t.adService.getBanners=function(){$(".banner-placeholder").each(function(e,i){var n=$(i).data();t.adService.loadBanner(n).then(function(e){$(i).replaceWith(e)})})},t.adService.getDynamicBanners=function(e,i){i||(i="#main-sidebar");for(var n=0,o=e.length;n<o;n++)t.adService.loadStaticBanner(e[n]).then(function(e){$(i).append(e)})},t.adService.loadExtraBannersIntoMainSidebar=function(e,i,o,a){n(t.pageUtils.getHeightDifference("#main-content .inner-container","#main-sidebar .inner-container"),"#main-sidebar .inner-container",e,i,o,a)},t.adService.loadExtraBanners=function(e,i,o,a){n(t.pageUtils.getHeightDifference("#listing-container .inner-container","#sidebar-container .inner-container"),"#sidebar-container .inner-container",e,i,o,a)},t.adService.extraBanners={profiles:[{page:t.adService.bannerPages.Directory,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.Directory,position:t.adService.bannerPositions.HalfPage},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle}],videos:[{page:t.adService.bannerPages.Videos,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.Videos,position:t.adService.bannerPositions.HalfPage}],blog:[{page:t.adService.bannerPages.Blog,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.Blog,position:t.adService.bannerPositions.HalfPage},{page:t.adService.bannerPages.Blog,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.HalfPage}],jobs:[{page:t.adService.bannerPages.Jobs,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.Jobs,position:t.adService.bannerPositions.HalfPage}],classifieds:[{page:t.adService.bannerPages.Classifieds,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.Classifieds,position:t.adService.bannerPositions.HalfPage}],events:[{page:t.adService.bannerPages.Events,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.Events,position:t.adService.bannerPositions.HalfPage}],galleries:[{page:t.adService.bannerPages.Directory,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.MediumRectangle},{page:t.adService.bannerPages.RunOfSite,position:t.adService.bannerPositions.HalfPage}]}}(window),function(e,i){var t=e.PH=e.PH||{};t.listingService={},t.listingService.listingType={Profile:1,Event:2,Job:3,Video:9,Classified:10,BlogPost:12,CastingNotice:13,PressRelease:14,Lead:16,Equipment:17,Question:18,Gallery:19,Training:20},t.listingService.recordCallClick=function(e,i){var t=this.getBaseApiUrl(i);""!==t&&(t+="recordcall/"+e,$.ajax({url:t,type:"POST",global:!1}))},t.listingService.recordClick=function(e,i){var t=this.getBaseApiUrl(i);""!==t&&(t+="recordclick/"+e,$.ajax({url:t,type:"POST",global:!1}))},t.listingService.recordSocialClick=function(e,i){var t=this.getBaseApiUrl(i);""!==t&&(t+="recordsocialclick/"+e,$.ajax({url:t,type:"POST",global:!1}))},t.listingService.recordView=function(e,i){var t=this.getBaseApiUrl(i);""!==t&&(t+="recordview/"+e,$.ajax({url:t,type:"POST",global:!1}))},t.listingService.recordShare=function(e,i){var t=this.getBaseApiUrl(i);""!==t&&(t+="recordshare/"+e,$.ajax({url:t,type:"POST",global:!1}))},t.listingService.recordDownload=function(e,i){var t=this.getBaseApiUrl(i);""!==t&&(t+="recorddownload/"+e,$.ajax({url:t,type:"POST",global:!1}))},t.listingService.addDownloadClickHandler=function(e,i,n){$(n||"#documents").on("click","a",function(n){t.listingService.recordDownload(e,i)})},t.listingService.addPhoneClickHandler=function(e,i,n){var o=n||".listing-details";$(o).on("click",".show-phone",function(n){n.preventDefault(),t.listingService.recordCallClick(e,i),$(o).find(".show-phone").each(function(e,i){var t=$(i).data("phone"),n=$(i).find("i"),o=$("<span></span>").append(n).append(" "+t);$(i).replaceWith(o)})})},t.listingService.setupSocialSharing=function(e,i){var n="Check out this "+t.listingService.getTypeName(i)+" on ProductionHUB";$(".rrssb-buttons").rrssb({url:e,title:n}),$(".rrssb-twitter a").prop("title",n.replace("on ProductionHUB","via @ProductionHUB"))},t.listingService.addShareClickHandler=function(e,i){$(".rrssb-buttons, #share42").on("click","a",function(n){t.listingService.recordShare(e,i)})},t.listingService.bindCopyShareLinkHandler=function(){ZeroClipboard.config({moviePath:"/content/plugins/ZeroClipboard.swf",title:"Copy Link to Clipboard"}),new ZeroClipboard($("#btnCopyShareLink")).on("complete",function(i,t){var n=this;$(n).tooltip({placement:"top",delay:0,trigger:"manual",title:"Link copied to clipboard"}).tooltip("show"),e.setTimeout(function(){$(n).tooltip("hide").tooltip("destroy")},2e3)})},t.listingService.bindSortListingsLinkHandler=function(){$("#sortByLink").on("click",function(e){e.preventDefault();var i=$(this).data("val");$("#sort-date").val(i),$("#refine-search").get(0).submit()})},t.listingService.getListingTypeFromUrl=function(){switch(t.listingService.getPathName()){case"classified":case"classifieds":return t.listingService.listingType.Classified;case"equipment":case"gear":return t.listingService.listingType.Equipment;case"event":case"events":return t.listingService.listingType.Event;case"job":case"jobs":return t.listingService.listingType.Job;case"profile":case"profiles":case"directory":return t.listingService.listingType.Profile;case"video":case"videos":return t.listingService.listingType.Video;case"blog":return t.listingService.listingType.BlogPost;case"pressrelease":case"pressreleases":case"press-release":case"press-releases":case"press":return t.listingService.listingType.PressRelease;case"castingnotice":case"castingnotices":case"casting-notice":case"casting-notices":return t.listingService.listingType.CastingNotice;case"lead":case"leads":case"crewlead":case"crewleads":case"crew-leads":case"productionlead":case"productionleads":case"production-leads":case"crew-and-vendor-leads":return t.listingService.listingType.Lead}},t.listingService.getDetailsUrl=function(e){var i="";switch(e){case t.listingService.listingType.Profile:i="/profiles/details/";break;case t.listingService.listingType.Event:i="/events/details/";break;case t.listingService.listingType.Job:i="/job/";break;case t.listingService.listingType.Video:i="/videos/details/";break;case t.listingService.listingType.Classified:i="/classifieds/details/";break;case t.listingService.listingType.Equipment:i="/gear/details/";break;case t.listingService.listingType.BlogPost:i="/blog/post/";break;case t.listingService.listingType.PressRelease:i="/press/details/";break;case t.listingService.listingType.CastingNotice:i="/castingnotices/details/";break;case t.listingService.listingType.Lead:i="/crew-and-vendor-leads/details/"}return i},t.listingService.getBaseApiUrl=function(e){var i="";switch(e){case t.listingService.listingType.Profile:i="/api/profiles/";break;case t.listingService.listingType.Event:i="/api/events/";break;case t.listingService.listingType.Job:i="/api/jobs/";break;case t.listingService.listingType.Video:i="/api/videos/";break;case t.listingService.listingType.Classified:i="/api/classifieds/";break;case t.listingService.listingType.Equipment:i="/api/equipmentclassifieds/";break;case t.listingService.listingType.BlogPost:i="/api/blog/";break;case t.listingService.listingType.PressRelease:i="/api/pressreleases/";break;case t.listingService.listingType.CastingNotice:i="/api/castingnotices/";break;case t.listingService.listingType.Lead:i="/api/leads/"}return i},t.listingService.getPathName=function(){var i=e.location.pathname;return-1!=i.indexOf("/")&&(i=i.substring(i.indexOf("/")+1,i.length)),-1!=i.indexOf("/")&&(i=i.substring(0,i.indexOf("/"))),i.toLowerCase()},t.listingService.getTypeName=function(e){var i="Listing";switch(e){case t.listingService.listingType.Profile:i="Directory Profile";break;case t.listingService.listingType.BlogPost:i="Blog Post";break;case t.listingService.listingType.CastingNotice:i="Casting Notice";break;case t.listingService.listingType.Classified:i="Classified";break;case t.listingService.listingType.Equipment:i="Equipment Classified";break;case t.listingService.listingType.Event:i="Event";break;case t.listingService.listingType.Job:i="Job";break;case t.listingService.listingType.Lead:i="Lead";break;case t.listingService.listingType.PressRelease:i="Press Release";break;case t.listingService.listingType.Question:i="Question";break;case t.listingService.listingType.Video:i="Video";break;case t.listingService.listingType.Gallery:i="Gallery";break;case t.listingService.listingType.Training:i="Training Class"}return i}}(window),function(e,i){var t=e.PH=e.PH||{};t.classifiedService={},t.classifiedService.getCategories=function(e,i){var n=i||"#CategoryID";return $.getJSON("/api/classifieds/getcategoriesfortype/"+e,function(e){if(e.length>0){var i=[];i.push(t.formUtils.getOptionLabel("-- Select a Category --")),$.each(e,function(e,t){i.push($("<option />",{text:t.name,value:t.id}))}),$(n).empty().append(i).prop("disabled",!1)}else t.formUtils.emptySelect(n,"No Categories for Type")})},t.classifiedService.emptyCategories=function(e,i){var n=i||"#CategoryID";return t.formUtils.emptySelect(n,e)}}(window),function(e,i){var t=e.PH=e.PH||{};t.directoryService={},t.directoryService.getSections=function(){return $.getJSON("/api/sections/getsections",function(e){if(e.length>0){var i=[];i.push(t.formUtils.getOptionLabel("-- Select Section --")),$.each(e,function(e,t){i.push($("<option />",{text:t.name,value:t.id}))}),$("#SectionID").empty().append(i).prop("disabled",!1)}else t.formUtils.emptySelect("#SectionID","No Sections Found").trigger("change")})},t.directoryService.getCategories=function(e){return $.getJSON("/api/categories/getcategoriesforsection/"+e,function(e){if(e.length>0){var i=[];i.push(t.formUtils.getOptionLabel("-- Select Category --")),$.each(e,function(e,t){i.push($("<option />",{text:t.name,value:t.id}))}),$("#CategoryID").empty().append(i).prop("disabled",!1)}else t.formUtils.emptySelect("#CategoryID","No Categories for Selected Section!")})},t.directoryService.getPeopleCategories=function(e){return $.getJSON("/api/categories/getpeoplecategoriesforsection/"+e,function(e){if(e.length>0){var i=[];i.push(t.formUtils.getOptionLabel("-- Select Category --")),$.each(e,function(e,t){i.push($("<option />",{text:t.name,value:t.id}))}),$("#CategoryID").empty().append(i).prop("disabled",!1)}else t.formUtils.emptySelect("#CategoryID","No Categories for Selected Section!")})},t.directoryService.bindCategoryLookup=function(e,i){var t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,initialize:!0,remote:{url:"/api/profiles/find?term=%QUERY",wildcard:"%QUERY",rateLimitBy:"debounce",rateLimitWait:300}});$(e).typeahead({hint:!1,highlight:!0,minLength:3,classNames:{input:"form-control",menu:"dropdown-menu",open:"show",suggestion:"dropdown-item",cursor:"active"}},{display:"title",source:t,limit:1/0,async:!0}).on("typeahead:select",function(e,t,n){console.log(t),$(i).val(t.url)})},t.directoryService.emptySections=function(e){return t.formUtils.emptySelect("#SectionID",e).trigger("change")},t.directoryService.emptyCategories=function(e){return t.formUtils.emptySelect("#CategoryID",e)},t.directoryService.getDefinitionForCategory=function(e){return $.get("/admin/categories/definition/"+e,function(e){return e})},t.directoryService.loadFeaturedProfiles=function(e,i){i=i||8,$.getJSON("/api/profiles/home",{count:i}).done(function(i,t,n){var o=[];$.each(i,function(e,i){o.push(function(e){var i='<div class="col-md-6 col-lg-4 mb-4">';return i+='<div class="drop-shadow-2x" style="height: 150px;">',i+='<div style="position: absolute; width: 150px; height: 150px; background-size: cover; background-repeat: no-repeat; background-position: center center; ',i+="background-image: url('https://s3.amazonaws.com/images.productionhub.com/profiles/logos/"+e.logo+"');\"></div>",i+='<div style="padding: 10px 10px 10px 170px;">',i+='<h5 class="h6">'+e.name+"</h5>",i+='<div class="small"><strong>'+e.category+"</strong></div>",i+='<div class="text-muted small mb-2">'+e.location+"</div>",i+='<div class="small"><a href="/profiles/details/'+e.id+'">View Profile</a></div>',i+="</div>",i+="</div>",i+="</div>"}(i))}),$(e).replaceWith(o.join(""))})}}(window),function(e,i){var t=e.PH=e.PH||{};t.emailService={},t.emailService.sendEmail=function(e){var i=$("#frmSendEmail").serialize();$.post(e,i).done(function(e){$("#frmSendEmail").get(0).reset(),$("#notesList").prepend(e),$("#notesList .empty-row").remove(),t.formUtils.showAlert({msg:"Message Sent",css:"alert-success"})}).always(function(){$("#sendEmail").modal("hide")})},t.emailService.customizeEmail=function(i){var t=$("#EmailID").val();e.location=i+"?emailID="+t},t.emailService.bindSendEmailHandler=function(e){$("#btnSendEmail").on("click",function(i){i.preventDefault(),t.emailService.sendEmail(e)})},t.emailService.bindCustomizeEmailHandler=function(e){$("#btnCustomizeEmail").on("click",function(i){i.preventDefault(),t.emailService.customizeEmail(e)})}}(window),function(e,i){var t=e.PH=e.PH||{};function n(e,i,n,o,a){var r=[];o=o||"name",a=a||"id",r.push(t.formUtils.getOptionLabel(n)),$.each(i,function(e,i){r.push($("<option/>",{text:i[o],value:i[a]}))}),e.empty().append(r).prop("disabled",!1)}t.locationService={},t.locationService.sources={zip:1,dropdown:2,filter:3},t.locationService.recordSearchType=function(e){return $.post("/api/profiles/recordsearchtype?searchType="+e)},t.locationService.getCountries=function(e){var i=t.locationService.emptyCountries(e);return $.getJSON("/api/countries/getsupportedcountries",function(e){n(i,e,"-- Select General Location --")})},t.locationService.getCountriesBySlug=function(e){var i=t.locationService.emptyCountries(e);return $.getJSON("/api/countries/getsupportedcountriesslug",function(e){n(i,e,"-- Select General Location --","name","slug")})},t.locationService.getStates=function(e,i){var o=t.locationService.emptyStates(e);return $.getJSON("/api/states/getstatesforcountry/"+i,function(e){n(o,e,"-- Select Region --")})},t.locationService.getStatesBySlug=function(e,i){var o=t.locationService.emptyStates(e);return $.getJSON("/api/states/getstatesforcountryslug?slug="+i,function(e){n(o,e,"-- Select Region --","name","slug")})},t.locationService.getCities=function(e,i){var o=t.locationService.emptyCities(e);return $.getJSON("/api/cities/getcitiesforstate/"+i,function(e){n(o,e,"-- Select City --")})},t.locationService.getCitiesBySlug=function(e,i,o){var a=t.locationService.emptyCities(e);return $.getJSON("/api/cities/getcitiesforstateslug?countrySlug="+i+"&stateSlug="+o,function(e){n(a,e,"-- Select City --","name","slug")})},t.locationService.emptyCountries=function(e){var i=$("#"+e);return i.prop("disabled",!0),i.empty().append(t.formUtils.getOptionLabel("-- Select General Location --")),i.trigger("change"),i},t.locationService.emptyStates=function(e){var i=$("#"+e);return i.prop("disabled",!0),i.empty().append(t.formUtils.getOptionLabel("-- Select Region --")),i.trigger("change"),i},t.locationService.emptyCities=function(e){var i=$("#"+e);return i.prop("disabled",!0),i.empty().append(t.formUtils.getOptionLabel("-- Select City --")),i},t.locationService.lookupCity=function(e,i){$.getJSON("/api/cities/getlookupcities",{id:$("#StateID").val(),query:e},function(e){i(e)})},t.locationService.bindEventHandlers=function(e,i,n,o){$("#"+e).on("change",function(){var e=$(this).val();if(""!==e){var a=t.formUtils.insertLoadingIndicator(i);t.locationService.getStates(i,e).then(function(){a.remove()}),e>0&&e<3?(t.locationService.emptyCities(n),$("#"+n).show(),$("#"+o).hide()):($("#"+n).hide(),$("#"+o).show())}else t.locationService.emptyStates(i)}),$("#"+i).on("change",function(){var i=$("#"+e).val(),o=$(this).val();if(""!==o&&i>0&&i<3){var a=t.formUtils.insertLoadingIndicator(n);t.locationService.getCities(n,o).then(function(){a.remove()})}else t.locationService.emptyCities(n)});var a=$("#"+e).val();""!==a&&a>2?($("#"+n).hide(),o&&$("#"+o).show()):(o&&$("#"+o).hide(),$("#"+n).show())},t.locationService.bindDefaultEventHandlers=function(){t.locationService.bindEventHandlers("CountryID","StateID","CityID","TempCity")},t.locationService.bindLocationLookup=function(e){var i=$.extend({},{countrySelector:"#search-country-slug",stateSelector:"#search-state-slug",citySelector:"#search-city-slug",locationSelector:"#search-location-home"},e),t=new Bloodhound({remote:{url:"/api/locations/find?term=%QUERY",wildcard:"%QUERY",rateLimitBy:"debounce",rateLimitWait:300},initialize:!1,datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace});$(i.locationSelector).typeahead({hint:!1,highlight:!0,minLength:3,classNames:{input:"form-control",menu:"dropdown-menu",open:"show",suggestion:"dropdown-item",cursor:"active"}},{source:t,display:"title",limit:1/0,async:!0}).on("typeahead:selected",function(e,t,n){$(i.citySelector).val(""),$(i.stateSelector).val(""),$(i.countrySelector).val(""),t&&t.country&&(t.state&&(t.city&&$(i.citySelector).val(t.city.url).triggerHandler("change"),$(i.stateSelector).val(t.state.url).triggerHandler("change")),$(i.countrySelector).val(t.country.url).triggerHandler("change"))})}}(window),function(e,i){var t=e.PH=e.PH||{};t.noteService={},t.noteService.addNote=function(e){var i=$("#frmAddNote").serialize();$.post(e,i).done(function(e){$("#frmAddNote").get(0).reset(),$("#notesList").prepend(e),$("#notesList .empty-row").remove(),t.formUtils.showAlert({msg:"Note added",css:"alert-success"})}).always(function(){$("#addNote").modal("hide")})},t.noteService.getMoreNotes=function(e){return $.getJSON(e,function(e){var i="";$(e).each(function(e,n){i+=t.noteService.getNoteListItem(n)}),$("#notesList").append(i)})},t.noteService.getNoteListItem=function(e){var i="",t="list-group-item";return i+="<li",e.isHighlighted&&(t+=" list-group-item-success"),i+=' class="'+t+'">',i+="<p>"+e.notes+"</p>",i+="<div><small>On "+moment(e.createDate).format("M/DD/YYYY h:m:s A"),e.createdBy?i+=' by <a href="/admin/users/details?username='+e.createUser+'">'+e.createdBy.displayName+"</a>":i+=" by "+e.createUser,i+="</small ></div ></li>"},t.noteService.getNoteRow=function(e){var i="";return i+="<tr",e.isHighlighted&&(i+=' class="active"'),i+="><td>",i+="<p>"+e.notes+"</p>",i+="<p><small>On "+moment(e.createDate).format("M/DD/YYYY h:m:s A"),e.createdBy?i+=' by <a href="/admin/users/details?username='+e.createUser+'">'+e.createdBy.displayName+"</a></small></p>":i+=" by "+e.createUser+"</small></p>",i+="</td></tr>"},t.noteService.bindAddNoteHandler=function(e){$("#btnAddNote").on("click",function(i){i.preventDefault(),t.noteService.addNote(e)})},t.noteService.bindMoreNotesHandler=function(e){$("#btnMoreNotes").on("click",function(i){i.preventDefault(),t.noteService.getMoreNotes(e).then(function(){$("#btnMoreNotes").off("click").parent().remove()})})}}(window),function(e,i){var t=e.PH=e.PH||{};t.reportingService={},t.reportingService.problemsFixed=function(e){$.post(e,function(e){$("#btnFixReports").off("click").remove(),t.formUtils.showAlert({css:"alert-success",msg:"Thanks for fixing the problem. All reports have been marked as handled."}),$("#divReports").slideUp(function(){$(this).remove()})})},t.reportingService.addReportButton=function(e){$("#tblReports tbody tr:not(.empty-row)").length>0&&$("<a />",{class:"btn",href:"#",id:"btnFixReports",click:function(i){i.preventDefault(),t.reportingService.problemsFixed(e)}}).append('<span class="glyphicons glyphicons-info-sign"></span> Reported Problem(s) are Fixed').insertAfter("#tblReports")}}(window),function(e,i){var t=e.PH=e.PH||{};t.searchService={},t.searchService.searchUrls=[],t.searchService.searchUrls.profiles={api:"/api/profiles/lookup?term=%QUERY",action:"/directory/search"},t.searchService.searchUrls.jobs={api:"/api/jobs/lookup?term=%QUERY",action:"/jobs/search"},t.searchService.searchUrls.blog={api:"/api/blog/lookup?term=%QUERY",action:"/blog/search"},t.searchService.searchUrls.castingnotices={api:"/api/castingnotices/lookup?term=%QUERY",action:"/casting-notices/search"},t.searchService.searchUrls.classifieds={api:"/api/classifieds/lookup?term=%QUERY",action:"/classifieds/search"},t.searchService.searchUrls.events={api:"/api/events/lookup?term=%QUERY",action:"/events/search"},t.searchService.searchUrls.leads={api:"/api/leads/lookup?term=%QUERY",action:"/crew-and-vendor-leads/search"},t.searchService.searchUrls.pressreleases={api:"/api/pressreleases/lookup?term=%QUERY",action:"/press/search"},t.searchService.searchUrls.equipment={api:"/api/equipmentclassifieds/lookup?term=%QUERY",action:"/gear/search"},t.searchService.searchUrls.videos={api:"/api/videos/lookup?term=%QUERY",action:"/videos/search"},t.searchService.searchUrls.questions={api:"/api/questions/lookup?term=%QUERY",action:"/ask-and-answer/search"},t.searchService.setupHomeSearchFormHandler=function(){var e=t.listingService.Profile;t.searchService.setupNavSearchFormHandler(e,"#search-sections-home","#search-location-home")},t.searchService.setupNavSearchFormHandler=function(e,i,n){if(void 0===e&&(e=t.listingService.getListingTypeFromUrl()||t.listingService.listingType.Profile),i=i||"#search-sections",n=n||"#search-location",e){var o=t.searchService.getSearchSectionFromListingType(e);$(i).val(o);var a=t.searchService.searchUrls[o];a&&a.action&&$(i).closest("form").prop("action",a.action),"blog"==o||"videos"==o?$(n).prop("disabled",!0):$(n).prop("disabled",!1)}t.searchService.bindSectionDropdownHandler(i,n),function(e){e=e||"#search-location",$(e).closest("form").on("submit",function(){var i=$(e);0==i.prop("disabled")&&""==i.val()&&i.prop("disabled",!0)})}(n)},t.searchService.loadCounts=function(){$("#search-list a").not(".active").each(function(e,i){var t=$(this).attr("href").replace("/search","/search-count");$.getJSON(t,function(e){$(i).find(".badge").removeClass("loading-small").text(e)})})},t.searchService.bindSectionDropdownHandler=function(e,i){e=e||"#search-sections",i=i||"#search-location",$(e).on("change",function(){var e=$(this).val(),n=t.searchService.searchUrls[e];n&&n.action?$(this).closest("form").prop("action",n.action):$(this).closest("form").prop("action","/home/search"),"blog"==e||"videos"==e?$(i).prop("disabled",!0):$(i).prop("disabled",!1)})},t.searchService.getSearchSectionFromListingType=function(e){var i=t.listingService.listingType;switch(e){case i.Profile:return"profiles";case i.BlogPost:return"blog";case i.Event:return"events";case i.Job:return"jobs";case i.Classified:return"classifieds";case i.CastingNotice:return"castingnotices";case i.PressRelease:return"pressreleases";case i.Equipment:return"equipment";case i.Video:return"videos";case i.Lead:return"leads";case i.Question:return"questions"}},t.searchService.setupInitialTypeahead=function(e,i){void 0===i&&(i=t.listingService.getListingTypeFromUrl()||t.listingService.listingType.Profile);var n=e||"#search-term";if(i){var o=t.searchService.getSearchSectionFromListingType(i),a=t.searchService.searchUrls[o];a&&a.api&&t.searchService.setupTypeahead(n,a.api),a&&a.action&&$(n).closest("form").prop("action",a.action)}},t.searchService.setupTypeahead=function(i,t){var n=i||"#search-term";if($(n).typeahead("destroy"),t){var o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:t,wildcard:"%QUERY",rateLimitBy:"debounce",rateLimitWait:300}});$(n).typeahead({hint:!1,highlight:!0,minLength:2,classNames:{input:"form-control",menu:"dropdown-menu",open:"show",suggestion:"dropdown-item",cursor:"active"}},{limit:10,displayKey:"title",source:o,async:!0}).on("typeahead:select",function(i,t,n){t&&t.url&&(e.location=t.url)})}}}(window),function(e,i){var t=e.PH=e.PH||{};t.purchaseUtils={},t.purchaseUtils.icons={success:"glyphicons-ok-sign",error:"glyphicons-remove-sign",default:"glyphicons-question-sign"},t.purchaseUtils.bindReferralCodeHandler=function(e,i,n){i=i||"#Code",n=n||"#amount-display";var o=$(i).siblings(".input-group-append").find(".glyphicons");$(i).on("blur",function(e){$(this).val().length||(t.formUtils.changeIcon(o,t.purchaseUtils.icons.default),$(i).closest("form-group").removeClass("has-success has-error"))}),$(i).rules().remote.complete=function(a){if("true"===a.responseText){var r="/api/referralcodes?code="+$(i).val();t.formUtils.changeIcon(o,t.purchaseUtils.icons.success),$.ajax(r,{success:function(i){i&&i.percentage&&$(n).text("$"+(e-e*(i.percentage/100)).toFixed(2))},error:function(){$(n).text("$"+e.toFixed(2))}})}else t.formUtils.changeIcon(o,t.purchaseUtils.icons.error),$(n).text("$"+e.toFixed(2))}},t.purchaseUtils.isValidForType=function(e,i,n){var o=!0;switch(i){case t.listingService.listingType.Job:o=n?e.validForFeaturedJobs:e.validForBasicJobs;break;case t.listingService.listingType.Profile:o=n?e.validForProfiles:e.validForFreeProfiles}return o},t.purchaseUtils.bindFormHandler=function(e,i){i=i||"#frmPurchase",$(i).on("submit",function(i){i.preventDefault();var n=$(this).get(0),o="",a=$("#IsPaypal").val(),r=$("#PaymentMethodNonce").val();if($("input[name=PaymentMethodToken]:checked").length>0&&(o=$("input[name=PaymentMethodToken]:checked").val()),a&&r)$("#processingModal").modal("show"),n.submit();else if(""==o){$("#btn-complete-purchase").prop("disabled",!0);new braintree.client.create({authorization:e},function(e,i){var o={creditCard:{number:$("#CardNumber").val(),cardholderName:$("#FirstName").val()+" "+$("#LastName").val(),expirationMonth:$("#ExpirationMonth").val(),expirationYear:$("#ExpirationYear").val(),cvv:$("#CVV2").val(),billingAddress:{postalCode:$("#PostalCode").val()}}};i.request({method:"POST",endpoint:"payment_methods/credit_cards",data:o},function(e,i){if(null!=e)t.formUtils.showAlert({css:"alert-danger",msg:e}),t.formUtils.logError(e),$("#btn-complete-purchase").prop("disabled",!1);else{var o=i.creditCards[0].nonce;$("#PaymentMethodNonce").val(o),$("#processingModal").modal("show"),n.submit()}})})}else $("#processingModal").modal("show"),n.submit()}),$("input[name=PaymentMethodToken]").on("change",function(e){""==$(this).val()?$("#new-payment-method").prop("disabled",!1).collapse("show"):$("#new-payment-method").prop("disabled",!0)})},t.purchaseUtils.calculateTotalProfilePrice=function(e,i,t,n){var o=$.Deferred(),a=0,r=t-e.includedCategories;if(e.allowMonthly&&i?(a=e.monthlyPrice,r>0&&(a+=e.monthlyCategoryPrice*r)):(a=e.termPrice,r>0&&(a+=e.yearlyCategoryPrice*r)),n&&n.length>0&&12==e.termLength){var s="/api/referralcodes?code="+n;$.ajax(s,{success:function(e){e&&e.percentage&&e.percentage>0&&(o.resolve(a-a*(e.percentage/100)),$("#discount-message").text("This referral code is valid for a "+e.percentage+"% discount."))},error:function(){o.resolve(a)}})}else o.resolve(a);return o.promise()},t.purchaseUtils.enablePaypal=function(e,i,t){if(e){var n=$("#paypal-button");braintree.client.create({authorization:e},function(e,o){e||(braintree.dataCollector.create({client:o,paypal:!0},function(e,i){e||$("#PaypalDeviceData").val(i.deviceData)}),braintree.paypal.create({client:o},function(e,o){e||(n.removeProp("disabled").removeAttr("disabled"),n.get(0).addEventListener("click",function(e){console.log("Inside button click handler..."),n.prop("disabled",!0);var a={local:"en_US",enableShippingAddress:!1},r="true"==$(i).val().toLowerCase(),s=0;s=t?t():$("#Amount").val(),r?a.flow="vault":(a.flow="checkout",a.currency="USD",a.amount=s),console.log("Paypal Token Options:",a),o.tokenize(a,function(e,i){if(e)return"CUSTOMER"!==e.type&&console.error("Error tokenizing:",e),void n.prop("disabled",!1);console.log(i.nonce),$("#btn-complete-purchase").prop("disabled",!0),$("#IsPaypal").val(!0),$("#PaymentMethodNonce").val(i.nonce),$("#frmPurchase").get(0).submit()})},!1))}))})}}}(window),function(e,i){var t=e.PH=e.PH||{};t.tagService={};t.tagService.bindTypeaheadHandler=function(e){var i=e||"#TagString",t=$(".tm-input").tagsManager({output:i,tagsContainer:"#tagsContainer",tagClass:"badge badge-dark mr-1 mb-1",tagCloseIcon:"&times;"}),n=new Bloodhound({initialize:!0,datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/api/tags/lookup?term=%QUERY",wildcard:"%QUERY",rateLimitBy:"debounce",rateLimitWait:300,transform:function(e){return $.map(e,function(e){return{value:e}})}}});$(".tm-input").typeahead({hint:!1,highlight:!0,minLength:2,classNames:{input:"form-control",menu:"dropdown-menu",open:"show",suggestion:"dropdown-item",cursor:"active"}},{source:n,displayKey:"value",limit:10,async:!0}).on("typeahead:select",function(e,i,n){t.tagsManager("pushTag",i.value),t.typeahead("val","")})},t.tagService.bindTypeaheadHandlers=function(e){$(e).on("click",".remove",function(e){e.preventDefault(),e.stopPropagation(),$(this).closest(".form-group").remove()})},t.tagService.bindAddButtonHandler=function(e){$('<div class="form-group"><div class="input-group input-group-sm"><input type="text" name="tag" class="form-control" placeholder="enter tag" autocomplete="off" aria-invalid="false" /><div class="input-group-append"><button type="button" class="btn btn-secondary remove"><span class="glyphicons glyphicons-remove"></span></button></div></div></div>').insertBefore("#btnAddTag").find(".form-control").focus()}}(window),function(e,i,t){"use strict";var n=e.PH=e.PH||{};n.sharingService={},n.sharingService.bindHandlers=function(e){var t=i.extend({},{url:"https://www.productionhub.com",title:void 0,description:void 0},e);for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(t[n]=a(t[n]));void 0!==t.url&&(i(".ph-facebook a").prop("href","https://www.facebook.com/sharer/sharer.php?u="+t.url),i(".ph-linkedin a").prop("href","http://www.linkedin.com/shareArticle?mini=true&url="+t.url+(void 0!==t.title?"&title="+t.title:"")+(void 0!==t.description?"&summary="+t.description:"")),i(".ph-twitter a").prop("href","https://twitter.com/intent/tweet?text="+(void 0!==t.title?t.title:"")+"%20"+t.url),i(".ph-print a").prop("href","javascript:window.print()"),i(".ph-email a").prop("href","mailto:?"+(void 0!==t.title?"subject="+t.title:"")+(void 0!==t.description?"&body="+t.description:""))),i(document).on("click",".ph-buttons a.popup",{},function(e){var t=i(this);o(t.prop("href"),"Share this page",580,470),e.preventDefault()})};var o=function(i,t,n,o){var a=void 0!==e.screenLeft?e.screenLeft:screen.left,r=void 0!==e.screenTop?e.screenTop:screen.top,s=(e.innerWidth?e.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-n/2+a,c=(e.innerHeight?e.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/3-o/3+r,l=e.open(i,t,"scrollbars=yes, width="+n+", height="+o+", top="+c+", left="+s);l&&l.focus&&l.focus()},a=function(e){if(null!=e){if(null===e.match(/%[0-9a-f]{2}/i))return encodeURIComponent(e);e=decodeURIComponent(e),a(e)}}}(window,jQuery),function(e,i){var t=e.PH=e.PH||{};t.init=function(){$(e).on("load",function(){t.adService.countViews()}),t.searchService.setupNavSearchFormHandler(),$('[data-toggle="tooltip"]').tooltip({container:"body"}),$('[data-toggle="popover"]').popover({container:"body",trigger:"focus"}),t.pageUtils.enableMainMenuHover();try{if($("#latest-notification").length>0&&Modernizr.sessionstorage){var i=$("#latest-notification").data(),n=[];sessionStorage.seenNotifications&&(n=sessionStorage.seenNotifications.split(",")),-1===n.indexOf(i.id.toString())&&(n.push(i.id.toString()),sessionStorage.seenNotifications=n.join(),t.showToast({msg:i.title,css:"info",delay:1e4,click:function(){e.location="/users"},hide:function(){$.ajax("/api/notifications/markasseen/"+i.id,{method:"PUT"})}}))}$("#unseen-activity-count").length>0&&$("#nav-account .nav-link").prepend('<span class="badge badge-danger badge-pill mr-2">!</span>')}catch(e){t.formUtils.logError(e)}}}(window);